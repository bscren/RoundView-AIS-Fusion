一、相机标定方法：
https://blog.csdn.net/qq_64079631/article/details/136423941
camera_calibration功能包已经安装好，启动webcamcalib节点
 ros2 launch webcamcalib webcam_publisher_launch.py，
 获取发布的相机话题后再进行标定：
 ros2 run camera_calibration cameracalibrator --size 6x5 --square 0.024 image:=/image_raw  camera:=/camera --no-service-check
其中的数字是使用的棋盘格规格，0.024 是棋盘格方格边长（单位：米），6x5是内角点个数（横向6，纵向5），根据实际棋盘格规格修改。

二、功能包介绍
webcamcalib：基于 OpenCV 和 ROS2 的网络摄像头图像采集与校正节点，支持 RTSP 流和本地摄像头设备，可发布原始和校正后的图像，支持 sensor_msgs/Image 和自定义 JPEG 编码消息格式，适用于各种计算机视觉应用。

三、依赖项
OpenCV：用于图像处理和校正。
ROS2：机器人操作系统，提供节点和消息传递功能。
mycustface：自定义消息包，包含 JPEG 编码的图像消息类型。

四、每次修改的编译步骤
colcon build --packages-select webcamcalib mycustface
source install/setup.bash

五、使用方法
5.1 启动节点
通过 launch 文件启动节点（推荐），默认加载配置参数：
ros2 launch webcamcalib webcam_publisher_launch.py
5.2 自定义参数启动
可在启动时通过命令行覆盖默认参数，例如修改相机地址和发布类型：
ros2 launch webcamcalib webcam_publisher_launch.py camera_url:=rtsp://user:pass@192.168.0.100:554/stream PubImageorJHjpgorRaworCalib:=JHjpgRaw

六、参数说明
参数名称	类型	默认值	说明
image_raw_topic	string	/image_raw	原始图像（sensor_msgs/Image）发布话题
image_calib_topic	string	/image_calib	校正后图像（sensor_msgs/Image）发布话题
JHjpg_raw_topic	string	/JHjpg_raw	原始 JPEG 图像（mycustface/JHjpg）发布话题
JHjpg_calib_topic	string	/JHjpg_calib	校正后 JPEG 图像（mycustface/JHjpg）发布话题
relative_calib_file_path	string	CamsCalibrationData/DAHUA192.168.4.118/ost.yaml	标定文件相对路径（相对于功能包的 share 目录）
camera_url	string	rtsp://admin:sjtu1234@192.168.4.118:554/...	相机地址（RTSP 流或本地设备，如 0 表示默认摄像头）
frame_rate	int	20	图像发布帧率（Hz）
PubImageorJHjpgorRaworCalib	string	ImageRaw	发布类型（4 选 1）：
- ImageRaw：原始 sensor_msgs/Image
- ImageRawCalib：校正后 sensor_msgs/Image
- JHjpgRaw：原始 JHjpg 消息
- JHjpgCalib：校正后 JHjpg 消息
SCALE	double	0.5	图像缩放比例（如 0.5 表示缩小为原尺寸的 50%）

八、发布话题说明
话题名称	消息类型	说明
/image_raw	sensor_msgs/Image	原始图像（BGR8 格式）
/image_calib	sensor_msgs/Image	校正后图像（BGR8 格式）
/JHjpg_raw	mycustface/JHjpg	原始图像的 JPEG 编码消息
/JHjpg_calib	mycustface/JHjpg	校正后图像的 JPEG 编码消息