使用该工具进行相机标定（单目或双目）的步骤如下，基于 camera_calibration 包的功能和文档说明：

## 相机参数标定

### 准备工作
1. 一个或多个已知尺寸的棋盘格（推荐 8x6 或 7x6 内角点，需明确正方形边长，单位为米，例如 108mm 即 0.108m）。
2.  光线充足的 5m×5m 空间，避免遮挡和其他棋盘格图案干扰。
3.  已安装 ROS 2 和camera_calibration包。
4.  相机话题检查确保相机已发布图像和相机信息话题

### 单目相机标定
**在终端运行以下命令，替换话题名称和参数：**
ros2 run camera_calibration cameracalibrator --size 8x6 --square 0.108 image:=/camera/image_raw camera:=/camera

--size 8x6：棋盘格内角点数量（宽 × 高）。
--square 0.108：棋盘格正方形边长（单位：米）。
image:=/camera/image_raw：单目相机原始图像话题。
camera:=/camera：相机命名空间（对应camera_info和set_camera_info服务）。
1. **src/marnav_vis/marnav_vis/config_loader.py**
   - 通用YAML配置加载工具类
   - 提供统一的配置文件读取接口
   - 支持多层级配置访问
   - 自动查找ROS包中的配置文件


二、单目相机标定
1. 启动标定节点
在终端运行以下命令，替换话题名称和参数：
bash
运行
ros2 run camera_calibration cameracalibrator --size 8x6 --square 0.108 image:=/camera/image_raw camera:=/camera

2. 操作棋盘格
移动棋盘格，确保覆盖相机视野的多个位置和角度，具体包括：
视野的左、右、上、下边缘。
靠近相机和远离相机（改变尺寸）。
倾斜棋盘格（产生倾斜角度，覆盖 “Skew” 参数）。
每次移动后保持静止，直到标定窗口中棋盘格被高亮显示。
3. 执行标定
当窗口右侧的CALIBRATE按钮亮起时，点击该按钮开始标定（耗时约 1 分钟，窗口可能暂时灰显）。
4. 检查结果与保存
成功标定：矫正后的图像中，真实世界的直线应保持直线。
失败标定：图像空白、变形或直线扭曲。
点击Save按钮，标定数据（含图像）将保存至/tmp/calibrationdata.tar.gz。
三、双目相机标定
1. 启动标定节点
若双目相机图像时间戳不同步，需添加--approximate参数（允许时间差，单位：秒）：
bash
运行
ros2 run camera_calibration cameracalibrator --approximate 0.1 --size 8x6 --square 0.108 right:=/stereo/right/image_raw left:=/stereo/left/image_raw right_camera:=/stereo/right left_camera:=/stereo/left
--approximate 0.1：允许左右图像时间戳差异不超过 0.1 秒。
left/right：指定左右目原始图像话题。
left_camera/right_camera：指定左右目命名空间。
2. 操作棋盘格
与单目类似，但需确保左右相机同时清晰拍摄到棋盘格，且覆盖：
左右相机视野的边缘、中心。
不同距离和倾斜角度（确保标定参数全面）。
3. 标定结果检查
成功标定：左右矫正图像中直线均保持平直，极线误差（epipolar error）低于 0.25 像素为可接受，低于 0.1 为优秀。
可通过窗口顶部的滑块调整矫正图像缩放比例（推荐0.0，保留有效像素，无黑边）。
四、额外功能
多棋盘格标定若使用多个不同尺寸的棋盘格，添加多个--size和--square参数，例如：
bash
运行
ros2 run camera_calibration cameracalibrator --size 8x6 --square 0.108 --size 7x5 --square 0.09 image:=/camera/image_raw
检查标定结果使用cameracheck工具验证标定效果：
单目：
bash
运行
ros2 run camera_calibration cameracheck --size 8x6 monocular:=/camera image:=image_rect
双目：
bash
运行
ros2 run camera_calibration cameracheck --size 8x6 stereo:=/stereo image:=image_rect
注意事项
棋盘格的 “尺寸” 指内角点数量（如 8x6 表示 9×7 个正方形）。
若标定窗口无图像，检查话题名称是否正确，或添加--no-service-check参数跳过服务检查。
标定结果文件calibrationdata.tar.gz可用于后续重校准或分析。